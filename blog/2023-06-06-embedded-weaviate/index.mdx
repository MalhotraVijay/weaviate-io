---
title: How to run a vector database locally in 10 lines of code
slug: embedded-local-weaviate
authors: [dan]
date: 2023-06-06
image: ./img/hero.png
tags: ['how-to']
description: "The Weaviate server can be run locally directly from client code"

---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import FilteredTextBlock from '@site/src/components/Documentation/FilteredTextBlock';
import PyCode from '!!raw-loader!/_includes/code/embedded.py';
import TSCode from '!!raw-loader!/_includes/code/embedded.ts';

Yes, 10 Python lines of code, generously formatted with whitespace. Or 12 for TypeScript. Oh, and all your data stays private locally, and we don't charge you anything.

<!-- truncate -->

Just because Weaviate has so many features it deserves a [Weaviate Academy](/developers/academy/) course, doesn't mean it's hard to get started with. On the contrary - Weaviate is distributed as a single binary on Linux and soon on macOS, so you can run it on your laptop just as well as you can use the cloud version if you want scale without infra headaches.

Here's how.

## 0. macOS

We're [currently working on macOS support for embedded DB](https://github.com/weaviate/weaviate-python-client/issues/239), but until it lands, you can use a Linux Docker image to follow along. [Install Docker](https://docs.docker.com/desktop/install/mac-install/), then run this command to land in a bash Linux prompt:


<Tabs groupId="languages">
  <TabItem value="py" label="Python">

  ```shell
  docker run -it --name wembed -v "$PWD":/usr/src/myapp -w /usr/src/myapp python /bin/bash
  ```

  </TabItem>

  <TabItem value="ts" label="TypeScript">

  ```shell
  docker run -it --name wembed -v "$PWD":/usr/src/myapp -w /usr/src/myapp node /bin/bash
  ```

  </TabItem>
</Tabs>

This will create a Docker container named `wembed` and will map your current directory to `/usr/src/myapp` in the container.

From now on, the remaining steps are the same.


## 1. Install the client library

<Tabs groupId="languages">
  <TabItem value="py" label="Python">

  ```bash
  pip install weaviate-client
  ```

  </TabItem>

  <TabItem value="ts" label="TypeScript">

  ```bash
  npm install weaviate-ts-embedded ts-node  # also install support for TypeScript
  ```

  </TabItem>
</Tabs>


## 2. Run the code

<Tabs groupId="languages">
  <TabItem value="py" label="Python">

  Save as `embedded.py` and run `python embedded.py`:
  <br/>

  <FilteredTextBlock
    text={PyCode}
    startMarker="# START example"
    endMarker="# END example"
    language="py"
  />
  </TabItem>

  <TabItem value="js" label="TypeScript">

  Save as `embedded.ts` and run `node --loader=ts-node/esm embedded.ts`:
  <br/>

  <FilteredTextBlock
    text={TSCode}
    startMarker="// START example"
    endMarker="// END example"
    language="js"
  />
  </TabItem>
</Tabs>

## <i class="fa-solid fa-screwdriver-wrench"></i> How does this work?

Essentially, what happens behind the scenes is that the client library downloads the server binary, spawns it in a separate process, connects to it, then terminates it on exit. The data is persisted, so you can use it from future invocations, or you can [transfer it to another instance](/developers/weaviate/manage-data/read-all-objects/#restore-to-a-target-instance).

You can learn more about running Weaviate locally from client code on the [Embedded Weaviate](/developers/weaviate/installation/embedded/) page.


## <i class="fa-solid fa-lightbulb"></i> Use cases

Running Weaviate locally from client code is obviously useful for getting started very quickly with Weaviate, be it with standalone code, or from Jupyter notebooks. It's also great for CI/CD pipelines, where you can run integrations tests without having to manage a separate server instance.

That's about it. Pretty short of a blog post, because there's not much more to say :) But feel free to leave any comments below, and tell us what other uses cases you've found for embedding Weaviate!


import WhatNext from '/_includes/what-next.mdx'

<WhatNext />
